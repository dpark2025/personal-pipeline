# ⚠️ DOCUMENTATION ARCHIVE STATUS ⚠️
## 🔒 **DEPRECATED - NO LONGER REFERENCED FOR CURRENT PROJECT**
**Status**: Historical/milestone documentation - reference only  
**Archive Date**: August 16, 2025  
**Reference**: This document is deprecated and should not be used for current development  

---


{
  "id": "disk_space_critical",
  "title": "Critical Disk Space Alert Response",
  "version": "1.2",
  "description": "Runbook for responding to critical disk space alerts",
  "triggers": [
    "disk_usage_critical",
    "filesystem_full",
    "disk_space_warning"
  ],
  "severity_mapping": {
    "critical": "critical",
    "high": "high",
    "medium": "medium"
  },
  "decision_tree": {
    "id": "disk_space_dt",
    "name": "Disk Space Decision Tree",
    "description": "Decision logic for handling disk space issues",
    "branches": [
      {
        "id": "check_usage",
        "condition": "disk_usage > 95%",
        "description": "Check if disk usage is above 95%",
        "action": "immediate_cleanup",
        "next_step": "emergency_procedures",
        "confidence": 0.9,
        "rollback_step": "monitor_only"
      },
      {
        "id": "moderate_usage",
        "condition": "disk_usage > 85% && disk_usage <= 95%",
        "description": "Moderate disk usage detected",
        "action": "standard_cleanup",
        "next_step": "preventive_measures",
        "confidence": 0.8,
        "rollback_step": "increase_monitoring"
      },
      {
        "id": "low_usage",
        "condition": "disk_usage <= 85%",
        "description": "Disk usage within normal range",
        "action": "monitor_trends",
        "next_step": "scheduled_maintenance",
        "confidence": 0.7
      }
    ],
    "default_action": "escalate_to_oncall"
  },
  "procedures": [
    {
      "id": "immediate_cleanup",
      "name": "Emergency Disk Cleanup",
      "description": "Immediate actions to free up disk space in critical situations",
      "command": "find /tmp -type f -atime +7 -delete && find /var/log -name '*.log' -size +100M -delete",
      "expected_outcome": "Free at least 1GB of disk space within 5 minutes",
      "timeout_seconds": 300,
      "prerequisites": ["root_access", "system_maintenance_window"],
      "rollback_procedure": "restore_from_backup",
      "tools_required": ["find", "du", "df"]
    },
    {
      "id": "log_rotation",
      "name": "Force Log Rotation",
      "description": "Immediately rotate and compress large log files",
      "command": "logrotate -f /etc/logrotate.conf",
      "expected_outcome": "Reduce log file sizes by 70%",
      "timeout_seconds": 180,
      "prerequisites": ["logrotate_config"],
      "tools_required": ["logrotate", "gzip"]
    },
    {
      "id": "temp_cleanup",
      "name": "Temporary File Cleanup",
      "description": "Remove temporary files and caches",
      "command": "rm -rf /tmp/* /var/tmp/* ~/.cache/*",
      "expected_outcome": "Clear temporary storage areas",
      "timeout_seconds": 120,
      "prerequisites": ["no_active_processes_using_temp"],
      "rollback_procedure": "restore_critical_temp_files",
      "tools_required": ["rm", "lsof"]
    }
  ],
  "escalation_path": "level2_oncall",
  "metadata": {
    "created_at": "2024-01-15T10:00:00Z",
    "updated_at": "2024-07-28T12:00:00Z",
    "author": "SRE Team",
    "confidence_score": 0.85,
    "success_rate": 0.92,
    "avg_resolution_time_minutes": 15
  }
}