# ==============================================================================
# Personal Pipeline MCP Server - Docker Environment Configuration
# ==============================================================================
# Copy this file to .env and customize for your deployment

# ==============================================================================
# Application Configuration
# ==============================================================================
NODE_ENV=production
LOG_LEVEL=info
PP_PORT=3000

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_PORT=6379
REDIS_MAX_MEMORY=256mb
REDIS_UI_PORT=8081
REDIS_UI_USER=admin
REDIS_UI_PASSWORD=secure123

# ==============================================================================
# Development Configuration
# ==============================================================================
DEV_PORT=3000
DEV_REDIS_PORT=6380
DEV_REDIS_UI_PORT=8082
DEBUG_PORT=9229

# ==============================================================================
# Volume Paths
# ==============================================================================
CONFIG_DIR=./config
TEST_DATA_DIR=./test-data

# ==============================================================================
# Registry Configuration (for deployment)
# ==============================================================================
# Docker Hub
REGISTRY_USERNAME=your-username
REGISTRY_PASSWORD=your-token

# GitHub Container Registry  
GITHUB_TOKEN=ghp_your_token

# AWS ECR
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_DEFAULT_REGION=us-west-2

# Azure ACR
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret

# ==============================================================================
# Build Configuration
# ==============================================================================
IMAGE_NAME=personal-pipeline/mcp-server
IMAGE_TAG=latest
BUILD_PLATFORM=linux/amd64,linux/arm64
PUSH_IMAGE=false
CACHE_FROM=true

# ==============================================================================
# Security Configuration
# ==============================================================================
# API Authentication (optional)
API_KEY=your-secret-api-key
JWT_SECRET=your-jwt-secret

# SSL/TLS (optional)
SSL_CERT_PATH=/app/certs/cert.pem
SSL_KEY_PATH=/app/certs/key.pem

# ==============================================================================
# Monitoring Configuration
# ==============================================================================
HEALTH_CHECK_HOST=localhost
HEALTH_CHECK_PORT=3000
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_TIMEOUT=10

# Prometheus metrics
METRICS_ENABLED=true
METRICS_PATH=/metrics

# ==============================================================================
# Performance Configuration
# ==============================================================================
# Memory limits (for Docker Compose)
APP_MEMORY_LIMIT=512M
APP_MEMORY_RESERVATION=256M
REDIS_MEMORY_LIMIT=256M
REDIS_MEMORY_RESERVATION=64M

# CPU limits
APP_CPU_LIMIT=1.0
APP_CPU_RESERVATION=0.5
REDIS_CPU_LIMIT=0.5
REDIS_CPU_RESERVATION=0.1